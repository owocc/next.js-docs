---
import { Image as AstroImage } from "astro:assets";
interface Props {
  alt: string;
  srcLight: string;
  srcDark: string;
  width: number | string;
  height: number | string;
  class?: string;
}

const {
  alt,
  srcLight,
  srcDark,
  width,
  height,
  class: className = "",
} = Astro.props;
const IMAGE_BASEURL = import.meta.env.PUBLIC_NEXT_IMAGE_BASE_URL;
const w = typeof width === "string" ? parseInt(width) : width;
const h = typeof height === "string" ? parseInt(height) : height;
---

<AstroImage
  src={`${IMAGE_BASEURL}${srcDark}`}
  alt={alt}
  width={w}
  height={h}
  class:list={["hidden dark:unset", className]}
/>

<AstroImage
  src={`${IMAGE_BASEURL}${srcLight}`}
  alt={alt}
  width={w}
  height={h}
  class:list={["dark:hidden", className]}
/>
